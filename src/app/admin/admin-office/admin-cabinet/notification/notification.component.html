
  <app-admin-office></app-admin-office>

  <div style="margin-top: 60px; text-align: center">

  </div>


  <div style="margin-top: 80px; text-align: center">
    <h3>Сообщения {{hasRole('ADMIN')}}</h3>
  </div>


<div class="w3-container w3-padding-32" style="margin-top: 15px">
  <div class="container row">
    <div class="table" >
      <table class="table table-striped">
        <thead class="nowrap">
        <tr>
          <th>ФИО</th>
          <th>Телефон</th>
          <th>Email</th>
          <th>Сообщение</th>
          <th>Дата</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor = "let message of messages">
          <td>{{message.user.name}} {{message.user.middleName}} {{message.user.surname}}</td>
          <td>{{message.user.phone}}</td>
          <td>{{message.user.email}}</td>
          <td>{{message.text}}</td>
          <td>{{message.date}}</td>
          <td><button (click)="showForm(messageTempl)" style="float: right;margin-right: 30px" class="btn btn-danger">Ответить</button> </td>
          <td><button (click)="delete(message)" style="float: right;margin-right: 30px" class="btn btn-danger">Удалить</button></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

  <ng-template #messageTempl>
    <div style="margin: 20px">
      <h2 style="text-align: center; margin-bottom: 10px">Cообщение администратору</h2>
      <div class="container">
        <form [formGroup]="messageToUser" >
          <div class="form-group">
            <textarea formControlName="message" rows="10" cols="50" class="form-control"></textarea>
          </div>

          <div class="form-group row">
            <div class="col-md-2">
              <button (click)="send()" class="btn btn-primary">Отправить</button>
            </div>
            <div class="col-md-2">
              <button style="margin-left: 80px" (click) = "hideForm()" class="btn btn-danger">Отмена</button>
            </div>
          </div>

        </form>
      </div>
    </div>
  </ng-template>
