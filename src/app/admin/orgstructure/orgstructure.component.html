
<div class="w3-top">
  <div class="w3-bar w3-white w3-wide w3-padding w3-card">

    <!-- Float links to the right. Hide them on small screens -->
    <div class="w3-right w3-hide-small">
      <a [routerLink]="['/admin/cabinet']" class="w3-bar-item w3-button">Кабинет админа</a>
      <a [routerLink]="['/admin/structure']" class="w3-bar-item w3-button">Структура</a>
      <a [routerLink]="['/admin/statistics']" class="w3-bar-item w3-button">Статистика</a>
    </div>
    <div class="w3-full-right w3-hide-small">
      <a [routerLink]="['/login']" class="w3-bar-item w3-button">Выход</a>
    </div>
  </div>
</div>

<div style="margin-top: 60px; text-align: center">
  <h3>Организационная структура</h3>
</div>



<div class="w3-container w3-padding-32">


  <div class="container">

  <div class="table" >
    <table class="table table-striped">
      <thead class="nowrap">
      <tr>
        <th >ФИО</th>
        <th>Date</th>
        <th >Country</th>
        <th>Name</th>
        <th>LEI</th>


      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of users">
        <td>{{user.name}}</td>
        <td>{{user.username}}</td>
        <td></td>
        <td></td>
        <td> </td>
        <td>
          <div class="form-group row">
            <div class="col-md-2" style="margin-left: 15px">
              <button (click)="showForm(editUserForm)" class="btn btn-primary">Edit</button>
            </div>
            <div class="col-md-2">
              <button (click)="deleteUser(user)" class="btn btn-danger">{{!user.deleted ? 'Заблокировать' : 'Разблокировать'}}</button>
            </div>
          </div>

        </td>
      </tr>
      </tbody>
    </table>
  </div>

<div class="container">
    <ul *ngIf="true" class="pagination">
      <li [ngClass]="{disabled:pager.currentPage === 1}">
        <a (click)="setPage(1)">First</a>
      </li>
      <li [ngClass]="{disabled:pager.currentPage === 1}">
        <a (click)="setPage(pager.currentPage - 1)">Previous</a>
      </li>
      <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
        <a (click)="setPage(page)">{{page}}</a>
      </li>
      <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
        <a (click)="setPage(pager.currentPage + 1)">Next</a>
      </li>
      <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
        <a (click)="setPage(pager.totalPages)">Last</a>
      </li>
    </ul>
</div>
</div>






<ng-template #editUserForm>
  <h2 style="text-align: center">Редактировать пользователя</h2>
  <div class="container">
    <form [formGroup]="loginForm" (ngSubmit)="editUserForm">
      <div class="form-group">
        <label for="username">Имя пользователя</label>
        <input type="text" formControlName="username" class="form-control" [ngClass]="{ 'is-invalid': submitted && getLoginFormControl.username.errors }" />
        <div *ngIf="submitted && getLoginFormControl.username.errors" class="invalid-feedback">
          <div *ngIf="getLoginFormControl.username.errors.required">Username is required</div>
        </div>
      </div>
      <div class="form-group">
        <label for="password">Пароль</label>
        <input type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && getLoginFormControl.password.errors }" />
        <div *ngIf="submitted && getLoginFormControl.password.errors" class="invalid-feedback">
          <div *ngIf="getLoginFormControl.password.errors.required">Password is required</div>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-2">
          <button  class="btn btn-primary">Войти</button>
        </div>
        <div class="col-md-2">
          <button (click) = "modalRef.hide()" class="btn btn-danger">Отмена</button>
        </div>
        <!--<img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />-->
        <!--<a [routerLink]="['/register']" class="btn btn-link">Register</a>-->
      </div>
    </form>
  </div>
</ng-template>


<!--<p><a [routerLink]="['/login']">Logout</a></p>-->
